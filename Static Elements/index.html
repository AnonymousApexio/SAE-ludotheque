<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ludothèque - Gestion de jeux</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <div class="logo">LUDOTECH</div>
    <nav>
      <ul>
        <li><a href="index.html">JEUX</a></li>
        <li><a href="#">AUTEURS</a></li>
        <li><a href="list.html">MA LISTE</a></li>
        <li><a href="account.html">MON COMPTE</a></li>
      </ul>
    </nav>
  </header>

  <div class="search-bar">
    <div class="search-container">
      <input type="text" placeholder="Titre jeu, auteur, catégorie...">
      <button id="b1"><img src="plus.png" alt="Filtres"></button>
    </div>

    <div id="filters-container" class="filters-container">
      <div class="filter-section">
        <h4>Genres</h4>
        <div class="filter-options">
          <div class="filter-option" data-category="genre" data-value="Aventure">Aventure</div>
          <div class="filter-option" data-category="genre" data-value="Open World">Open World</div>
          <div class="filter-option" data-category="genre" data-value="Action">Action</div>
          <div class="filter-option" data-category="genre" data-value="RPG">RPG</div>
          <div class="filter-option" data-category="genre" data-value="FPS">FPS</div>
          <div class="filter-option" data-category="genre" data-value="Stratégie">Stratégie</div>
          <div class="filter-option" data-category="genre" data-value="Sport">Sport</div>
        </div>
      </div>

      <div class="selected-filters" id="selected-filters">
        <div class="no-filters">Aucun filtre sélectionné</div>
      </div>
    </div>
  </div>

  <div class="section-title">JEUX LES MIEUX NOTÉS :</div>
  <div class="games-container">
          <!-- Carte de jeu 1 -->
          <div class="game-card top-rated">
            <img src="forza.jpg" alt="Jeu 1">
            <div class="game-info">
                <div class="game-title">Forza Motorsport</div>
                <div class="rating">★★★★★</div>
                <div class="game-actions">
                    <button class="btn btn-add">Ajouter à ma liste</button>
                    <button class="btn btn-rate">Commenter</button>
                </div>
            </div>
        </div>
        
        <!-- Carte de jeu 2 -->
        <div class="game-card top-rated">
            <img src="gta.jpg" alt="Jeu 2">
            <div class="game-info">
                <div class="game-title">GTA V</div>
                <div class="rating">★★★★★</div>
                <div class="game-actions">
                    <button class="btn btn-add">Ajouter à ma liste</button>
                    <button class="btn btn-rate">Commenter</button>
                </div>
            </div>
        </div>
        
        <!-- Carte de jeu 3 -->
        <div class="game-card top-rated">
            <img src="mc.png" alt="Jeu 3">
            <div class="game-info">
                <div class="game-title">Minecraft</div>
                <div class="rating">★★★★★</div>
                <div class="game-actions">
                    <button class="btn btn-add">Ajouter à ma liste</button>
                    <button class="btn btn-rate">Commenter</button>
                </div>
            </div>
        </div>
        
        <!-- Carte de jeu 4 -->
        <div class="game-card top-rated">
            <img src="avatar.jpg" alt="Jeu 4">
            <div class="game-info">
                <div class="game-title">Avatar</div>
                <div class="rating">★★★★★</div>
                <div class="game-actions">
                    <button class="btn btn-add">Ajouter à ma liste</button>
                    <button class="btn btn-rate">Commenter</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="section-title">DERNIERS JEUX AJOUTÉS :</div>
    <div class="games-container">
        <!-- Carte de jeu 5 -->
        <div class="game-card">
            <div class="new-release">NOUVEAU</div>
            <img src="bo6.jfif" alt="Jeu 5">
            <div class="game-info">
                <div class="game-title">Black Ops 6</div>
                <div class="rating">★★★★☆</div>
                <div class="game-actions">
                    <button class="btn btn-add">Ajouter à ma liste</button>
                    <button class="btn btn-rate">Commenter</button>
                </div>
            </div>
        </div>
        
        <!-- Carte de jeu 6 -->
        <div class="game-card">
            <div class="new-release">NOUVEAU</div>
            <img src="rl.jpg" alt="Jeu 6">
            <div class="game-info">
                <div class="game-title">Rocket League</div>
                <div class="rating">★★★★★</div>
                <div class="game-actions">
                    <button class="btn btn-add">Ajouter à ma liste</button>
                    <button class="btn btn-rate">Commenter</button>
                </div>
            </div>
        </div>
        
        <!-- Carte de jeu 7 -->
        <div class="game-card">
            <div class="new-release">NOUVEAU</div>
            <img src="lol.jpg" alt="Jeu 7">
            <div class="game-info">
                <div class="game-title">League Of Legends</div>
                <div class="rating">★★★★★</div>
                <div class="game-actions">
                    <button class="btn btn-add">Ajouter à ma liste</button>
                    <button class="btn btn-rate">Commenter</button>
                </div>
            </div>
        </div>
        
        <!-- Carte de jeu 8 -->
        <div class="game-card">
            <div class="new-release">NOUVEAU</div>
            <img src="gta6.jpg" alt="Jeu 8">
            <div class="game-info">
                <div class="game-title">GTA VI</div>
                <div class="rating">★★★★☆</div>
                <div class="game-actions">
                    <button class="btn btn-add">Ajouter à ma liste</button>
                    <button class="btn btn-rate">Commenter</button>
                </div>
            </div>
        </div>
    </div>
  </div>

  <script>
    const filtersContainer = document.getElementById('filters-container');
    const filterButton = document.getElementById('b1');
    const filterOptions = document.querySelectorAll('.filter-option');
    const selectedFilters = document.getElementById('selected-filters');

    // Toggle des filtres
    filterButton.addEventListener('click', (e) => {
      e.stopPropagation(); // évite la fermeture immédiate
      filtersContainer.classList.toggle('active');
    });

    filterOptions.forEach(option => {
      option.addEventListener('click', () => {
        option.classList.toggle('selected');
        updateSelectedFilters();
      });
    });

    function updateSelectedFilters() {
      selectedFilters.innerHTML = '';
      const selected = document.querySelectorAll('.filter-option.selected');

      if (selected.length === 0) {
        selectedFilters.innerHTML = '<div class="no-filters">Aucun filtre sélectionné</div>';
        return;
      }

      selected.forEach(filter => {
        const category = filter.dataset.category;
        const value = filter.dataset.value;
        const chip = document.createElement('div');
        chip.className = 'filter-chip';
        chip.innerHTML = `${value} <span class="remove" data-category="${category}" data-value="${value}">×</span>`;
        selectedFilters.appendChild(chip);
      });

      document.querySelectorAll('.filter-chip .remove').forEach(removeBtn => {
        removeBtn.addEventListener('click', e => {
          e.stopPropagation();
          const category = removeBtn.dataset.category;
          const value = removeBtn.dataset.value;
          const option = document.querySelector(`.filter-option[data-category="${category}"][data-value="${value}"]`);
          if (option) option.classList.remove('selected');
          updateSelectedFilters();
        });
      });
    }

    // Cacher le menu si on clique en dehors
    document.addEventListener('click', (e) => {
      if (!filtersContainer.contains(e.target) && e.target !== filterButton && !filterButton.contains(e.target)) {
        filtersContainer.classList.remove('active');
      }
    });

    // Init
    updateSelectedFilters();
  </script>
</body>
</html>
